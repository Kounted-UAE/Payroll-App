{
  "aiContext": {
    "projectName": "Kounted Business Suite",
    "description": "A secure, internal SaaS Tool built for managing Kounted Accounting and Management Solutions' client services, compliance, operating workflows, and other resource and knowledge management functions. Integrates with Supabase, Xero, and Teamwork.com.",
    "entryFile": "app/layout.tsx",
    "frameworks": [
      "Next.js (App Router)",
      "React 19",
      "Supabase (auth, RLS, DB)",
      "Tailwind CSS",
      "TypeScript",
      "Framer Motion",
      "Headless UI",
      "shadcn/ui"
    ],
    "goals": [
      {
        "title": "üß± Database & TypeScript Types",
        "details": [
          "Clean up app routes and page structure",
          "Normalize core tables (contacts, entities, individuals, cases, etc.)",
          "Align component import/export paths",
          "Standardize naming across schema and types"
        ],
        "status": "Ongoing"
      },
      {
        "title": "üíº UAE Payroll & HR Compliance Suite",
        "details": [
          "Employer/employee profile management",
          "Monthly pay run engine with WPS export",
          "Allowances, expenses, EOSB accrual support",
          "Payslip generation and Resend email delivery",
          "Audit-ready reports and salary history"
        ],
        "status": "Partial implementation ‚Äî schema and payrun engine in place"
      },
      {
        "title": "üõí KORP Kiosk (POS-style Service Ordering)",
        "details": [
          "Multi-item cart with dynamic SKUs and configuration",
          "Modal-based form wizard with matrix-driven pricing",
          "Stripe payment integration",
          "Custom checkout link with summary"
        ],
        "status": "MVP in progress"
      },
      {
        "title": "üìä KWAY CPQ (Quoting Engine)",
        "details": [
          "Multi-step wizard for SoW and bundle config",
          "SKU logic via quote_template_library",
          "Auto-draft quote generation",
          "Admin-side quote finalization"
        ],
        "status": "In Progress"
      },
      {
        "title": "üìÅ Client Repository & Compliance Tools",
        "details": [
          "Dashboard tabs: Profile, Entities, Individuals, Docs",
          "KYC case initiation + AI assistant view",
          "UAE Compliance calendar viewer",
          "File uploads with case-based RLS"
        ],
        "status": "Partially implemented"
      },
      {
        "title": "üìì Internal Docs & Change Management",
        "details": [
          "Changelog rendering from Markdown",
          "Session context and roadmap parser",
          "Developer onboarding pages",
          "Editor interface (optional)"
        ],
        "status": "Planned"
      },
      {
        "title": "üîê Authentication & Access Control",
        "details": [
          "Supabase OTP authentication (SSR)",
          "Custom auth-provider.tsx",
          "Role-based redirects (staff vs. client)",
          "Session-aware layout components"
        ],
        "status": "Deferred"
      }
    ],
    "keyRoutes": [
      "/login",
      "/auth/callback",
      "/backyard",
      "/kyc",
      "/my-advontier/client/**",
      "/my-advontier/staff/**"
    ],
    "authentication": {
      "method": "Supabase Magic Link",
      "sessionProvider": "auth-provider.tsx (SSR)",
      "userRoles": [
        "advontier-superadmin",
        "advontier-admin",
        "advontier-staff",
        "client-admin",
        "client-standard"
      ],
      "roleEnforcement": "via Supabase RLS and public_user_profiles"
    },
    "externalIntegrations": {
      "xero": true,
      "teamwork": true,
      "stripe": true,
      "resendEmail": true,
      "openai": true
    },
    "sourceDirectories": {
      "pages": "app/",
      "components": "components/",
      "lib": "lib/",
      "types": "lib/types/",
      "scripts": "lib/scripts/"
    },
    "preferredStyleGuide": {
      "typescript": true,
      "strictNullChecks": true,
      "componentStyle": "function",
      "preferTailwind": true
    },
    "customComponents": [
      "SidebarLayout",
      "TopNavbar",
      "AuthProvider",
      "FormModal",
      "DynamicPricing"
    ],
    "notes": {
      "typescriptPaths": "Configured with baseUrl: '.', paths: @/*",
      "typeGen": "pnpm supabase:types via tsx lib/scripts/extract-supabase-types.ts",
      "env": ".env includes SUPABASE_ACCESS_TOKEN and SUPABASE_PROJECT_ID"
    }
  }
}
